### Exemplos de uso da API de Redefinição de Senha - Pessoa Usuário

### 1. Esqueci minha senha (envio de e-mail via Keycloak)
POST {{baseUrl}}/pessoas-usuarios/esqueci-senha
Content-Type: application/json

{
  "email": "usuario@example.com"
}

###

### 2. Solicitar código de redefinição (método seguro com código)
POST {{baseUrl}}/pessoas-usuarios/solicitar-codigo-reset
Content-Type: application/json

{
  "email": "usuario@example.com"
}

###

### 3. Redefinir senha com código (usando código de 6 dígitos)
POST {{baseUrl}}/pessoas-usuarios/redefinir-senha-com-codigo
Content-Type: application/json

{
  "codigo": "123456",
  "novaSenha": "MinhaNovaSenh@123"
}

###

### 2. Alterar senha (usuário logado - requer autenticação)
PUT {{baseUrl}}/pessoas-usuarios/alterar-senha
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "senhaAtual": "MinhaSenh@Atual123",
  "novaSenha": "MinhaNovaSenh@123"
}

###

### 3. Verificar se e-mail existe (funcionalidade existente)
GET {{baseUrl}}/pessoas-usuarios/verificar-email/usuario@example.com

###

### 4. Fazer login com nova senha (funcionalidade existente)
POST {{baseUrl}}/pessoas-usuarios/login
Content-Type: application/json

{
  "email": "usuario@example.com",
  "senha": "MinhaNovaSenh@123"
}

###

# Variáveis
@baseUrl = http://localhost:5000

### Respostas esperadas:

# Para esqueci-senha e redefinir-senha:
# {
#   "sucesso": true,
#   "mensagem": "E-mail de redefinição de senha enviado com sucesso"
# }
# ou
# {
#   "sucesso": true,
#   "mensagem": "Senha redefinida com sucesso"
# }

# Em caso de erro:
# {
#   "sucesso": false,
#   "mensagem": "E-mail não encontrado"
# }