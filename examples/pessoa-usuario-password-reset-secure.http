### Exemplos de uso da API de Redefinição de Senha - Pessoa Usuário

### 1. Esqueci minha senha (solicitar e-mail de redefinição)
POST {{baseUrl}}/pessoas-usuarios/esqueci-senha
Content-Type: application/json

{
  "email": "usuario@example.com"
}

###

### 2. Alterar senha (usuário logado - requer autenticação)
PUT {{baseUrl}}/pessoas-usuarios/alterar-senha
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "senhaAtual": "MinhaSenh@Atual123",
  "novaSenha": "MinhaNovaSenh@123"
}

###

### 3. Verificar se e-mail existe (funcionalidade existente)
GET {{baseUrl}}/pessoas-usuarios/verificar-email/usuario@example.com

###

### 4. Fazer login com nova senha (funcionalidade existente)
POST {{baseUrl}}/pessoas-usuarios/login
Content-Type: application/json

{
  "email": "usuario@example.com",
  "senha": "MinhaNovaSenh@123"
}

###

# Variáveis
@baseUrl = http://localhost:5000
@token = seu_token_de_acesso_aqui

### Respostas esperadas:

# Para esqueci-senha:
# {
#   "sucesso": true,
#   "mensagem": "E-mail de redefinição de senha enviado com sucesso"
# }

# Para alterar-senha:
# {
#   "sucesso": true,
#   "mensagem": "Senha alterada com sucesso"
# }

# Em caso de erro:
# {
#   "sucesso": false,
#   "mensagem": "E-mail não encontrado" // ou "Senha atual incorreta"
# }

### NOTA DE SEGURANÇA:
### O endpoint "redefinir-senha" foi REMOVIDO por questões de segurança.
### Qualquer pessoa com o e-mail poderia alterar a senha de outros usuários.
### Agora temos dois fluxos seguros:
### 1. Esqueci senha → E-mail → Reset no Keycloak
### 2. Alterar senha → Requer autenticação + senha atual